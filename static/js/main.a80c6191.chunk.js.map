{"version":3,"sources":["components/Nav.js","utils/api.js","utils/storage.js","hooks/useStory.js","components/ErrorMessage.js","components/Story.js","hooks/useStories.js","hooks/usePaginator.js","hooks/useSlisedItems.js","components/ItemsList.js","components/ShortStory.js","components/Pagination.js","components/StoriesQuantityChanger.js","components/ErrorPage.js","components/MainFeed.js","components/UserPage.js","App.js","serviceWorker.js","index.js"],"names":["Nav","children","getCurrentClassName","isCurrent","className","href","getProps","to","BASE_URI","userUrl","userId","topStoriesUrl","bestStoriesUrl","newStoriesUrl","askStoriesUrl","jobStoriesUrl","showStoriesUrl","fetchStory","storyId","fetch","itemId","then","response","ok","Error","clone","text","dataStr","key","value","localStorage","setItem","json","catch","err","console","log","fetchStories","url","type","options","useStory","useState","JSON","parse","getItem","e","getData","item","error","setError","requestCall","setRequestCall","useEffect","inProgress","story","setTimeout","call","React","memo","Story","data","onClick","window","history","back","title","dangerouslySetInnerHTML","__html","target","rel","useStories","storiesType","items","setItems","controller","AbortController","signal","fetchedData","abort","ceil","Math","getPages","startPage","lastPage","callback","pages","minPage","maxPage","i","push","usePaginator","totalElements","itemsOnPage","perPage","setPerPage","page","setPage","numOfPages","setNumOfPages","setPages","document","body","scrollIntoView","behavior","useSlisedItems","currentPage","slice","setItemsOnPage","ItemsList","ViewComponent","itemIds","length","map","id","getDateString","date","fullDate","Date","toDateString","split","month","day","year","timeString","toLocaleTimeString","join","by","time","aria-hidden","runPage","handler","defaultValue","onChange","style","textAlign","ItemsListWithShortStories","ShortStory","allowedUrls","MainFeed","path","indexOf","includes","best","top","ask","job","show","navigate","ItemsListWithTitleView","user","setUser","fetchUser","about","submitted","App","basepath","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","onUpdate","onSuccess","ReactDOM","render","getElementById","URL","process","origin","addEventListener","contentType","headers","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.a80c6191.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"@reach/router\";\n\nexport default function Nav({ children }) {\n  const getCurrentClassName = ({ isCurrent, href }) => ({\n    className:\n      href === \"/hacker-news-reader\" && isCurrent\n        ? \"current\"\n        : isCurrent\n        ? \"current\"\n        : \"\",\n  });\n  return (\n    <div className=\"wrapper container\">\n      <nav className=\"nav-wrapper\">\n        <ul className=\"top-menu\">\n          <li className=\"top-menu-link\">\n            <Link getProps={getCurrentClassName} to=\"./\">\n              New Stories\n            </Link>\n          </li>\n          <li className=\"top-menu-link\">\n            <Link getProps={getCurrentClassName} to=\"./best\">\n              Best Stories\n            </Link>\n          </li>\n          <li className=\"top-menu-link\">\n            <Link getProps={getCurrentClassName} to=\"./top\">\n              Top Stories\n            </Link>\n          </li>\n          <li className=\"top-menu-link\">\n            <Link getProps={getCurrentClassName} to=\"./ask\">\n              Ask Stories\n            </Link>\n          </li>\n          <li className=\"top-menu-link\">\n            <Link getProps={getCurrentClassName} to=\"./job\">\n              Job Stories\n            </Link>\n          </li>\n          <li className=\"top-menu-link\">\n            <Link getProps={getCurrentClassName} to=\"./show\">\n              Show Stories\n            </Link>\n          </li>\n        </ul>\n      </nav>\n      {children}\n    </div>\n  );\n}\n","import { storeData } from \"./storage\";\n\nconst BASE_URI = \"https://hacker-news.firebaseio.com/v0\";\nconst itemUrl = itemId => `${BASE_URI}/item/${itemId}.json`;\nconst userUrl = userId => `${BASE_URI}/user/${userId}.json`;\nconst topStoriesUrl = () => `${BASE_URI}/topstories.json`;\nconst bestStoriesUrl = () => `${BASE_URI}/beststories.json`;\nconst newStoriesUrl = () => `${BASE_URI}/newstories.json`;\nconst askStoriesUrl = () => `${BASE_URI}/askstories.json`;\nconst jobStoriesUrl = () => `${BASE_URI}/jobstories.json`;\nconst showStoriesUrl = () => `${BASE_URI}/showstories.json`;\n\nexport const fetchStory = storyId => {\n  return fetch(itemUrl(storyId))\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(\"Sorry! Fetching error...\");\n      }\n      response\n        .clone()\n        .text()\n        .then(dataStr => storeData(storyId, dataStr));\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n      return null;\n    });\n};\n\nexport const fetchUser = (userId, options = {}) => {\n  return fetch(userUrl(userId), {...options})\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(\"Sorry! Fetching error...\");\n      }\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n      return null;\n    });\n};\n\nexport const fetchStories = (type = \"new\", options = {}) => {\n  let url;\n  switch (type) {\n    case \"top\":\n      url = topStoriesUrl();\n      break;\n    case \"best\":\n      url = bestStoriesUrl();\n      break;\n    case \"ask\":\n      url = askStoriesUrl();\n      break;\n    case \"job\":\n      url = jobStoriesUrl();\n      break;\n    case \"show\":\n      url = showStoriesUrl();\n      break;\n    default:\n      url = newStoriesUrl();\n  }\n  return fetch(url, {...options})\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(\"Sorry! Fetching error...\");\n      }\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n      return null;\n    });\n};\n","export const getData = key => {\n  try {\n    const data = JSON.parse(localStorage.getItem(key));\n    return data;\n  } catch (e) {\n    return null;\n  }\n};\nexport const storeData = (key, value) => {\n  localStorage.setItem(key, value);\n};\n","import { useState, useEffect } from \"react\";\nimport { fetchStory } from \"../utils/api\";\nimport { getData } from \"../utils/storage\";\n\nconst useStory = itemId => {\n  const [item, setItem] = useState(getData(itemId));\n  const [error, setError] = useState(false);\n  const [requestCall, setRequestCall] = useState(0);\n\n  useEffect(() => {\n    if (item) {\n      return;\n    }\n    if (requestCall < 3) {\n      let inProgress = true;\n      fetchStory(itemId)\n        .then(story => {\n          if (inProgress) {\n            if (story) {\n              setError(false);\n              setItem(story);\n            } else {\n              setError(true);\n              setTimeout(\n                () => inProgress && setRequestCall(call => call + 1),\n                3000,\n              );\n            }\n          }\n        })\n        .catch(e => {\n          inProgress && setError(true);\n          setTimeout(\n            () => inProgress && setRequestCall(call => call + 1),\n            3000,\n          );\n        });\n      return () => {\n        inProgress = false;\n      };\n    }\n  }, [itemId, requestCall]);\n\n  return [item, error];\n};\n\nexport default useStory;\n","import React from \"react\";\n\nconst ErrorMessage = () => (\n  <div className=\"error-message\">Sorry! Try again later :(</div>\n);\n\nexport default React.memo(ErrorMessage);\n","import React from \"react\";\nimport { Link } from \"@reach/router\";\nimport useStory from \"../hooks/useStory\";\nimport ErrorMessage from \"./ErrorMessage\";\n\nconst getMarkup = data => ({\n  __html: data,\n});\n\nconst Story = ({ itemId }) => {\n  const [story, err] = useStory(itemId);\n\n  if (err) {\n    return <ErrorMessage />;\n  }\n  if (!story) {\n    return null;\n  }\n  return (\n    <>\n      <div className=\"full-story-top\">\n        <Link\n          to=\"#\"\n          onClick={() => window.history.back()}\n          className=\"back-button\"\n        >\n          <span>&lArr; Back</span>\n        </Link>\n      </div>\n      <div className=\"full-story\">\n        <h1 className=\"title\">{story.title}</h1>\n        <div dangerouslySetInnerHTML={getMarkup(story.text)} />\n        {story.url ? (\n          <div className=\"full-story-bottom\">\n            <a target=\"_blank\" href={story.url} rel=\"noopener noreferrer\">\n              Read original &rArr;\n            </a>\n          </div>\n        ) : null}\n      </div>\n    </>\n  );\n};\n\nexport default Story;\n","import { useState, useEffect } from \"react\";\nimport { fetchStories } from \"../utils/api\";\n\nconst useStories = (storiesType = \"new\") => {\n  const [items, setItems] = useState([]);\n  const [error, setError] = useState(false);\n  const [requestCall, setRequestCall] = useState(0);\n\n  useEffect(() => {\n    if (requestCall < 3) {\n      let inProgress = true;\n      const controller = new AbortController();\n      fetchStories(storiesType, { signal: controller.signal })\n        .then(fetchedData => {\n          if (inProgress) {\n            if (fetchedData) {\n              setError(false);\n              setItems(fetchedData);\n            } else {\n              setError(true);\n              setTimeout(\n                () => inProgress && setRequestCall(call => call + 1),\n                3000\n              );\n            }\n          }\n        })\n        .catch(e => {\n          inProgress && setError(true);\n          setTimeout(\n            () => inProgress && setRequestCall(call => call + 1),\n            3000,\n          );\n        });\n      return () => {\n        inProgress = false;\n        controller.abort();\n      };\n    }\n  }, [storiesType, requestCall]);\n\n  return [items, error];\n};\n\nexport default useStories;\n","import { useState, useEffect } from \"react\";\r\nconst ceil = Math.ceil;\r\nconst getPages = (startPage, lastPage, callback) => {\r\n  let pages = [];\r\n  let minPage = startPage - 2;\r\n  let maxPage = minPage < 0 ? minPage * -1 + startPage + 2 : startPage + 2;\r\n  minPage = minPage < 0 ? 0 : minPage;\r\n  if(!lastPage) {\r\n    return pages;\r\n  }\r\n  lastPage -= 1;\r\n  if (maxPage >= lastPage) {\r\n    minPage -= maxPage - lastPage;\r\n    maxPage = lastPage;\r\n  }\r\n  minPage = minPage < 0 ? 0 : minPage;\r\n  for (let i = minPage; i <= maxPage; i++) {\r\n    pages.push([i + 1, () => callback(i)]);\r\n  }\r\n  return pages;\r\n};\r\nconst usePaginator = (totalElements, startPage = 0, itemsOnPage = 5) => {\r\n  const [perPage, setPerPage] = useState(itemsOnPage);\r\n  const [page, setPage] = useState(startPage);\r\n  const [numOfPages, setNumOfPages] = useState(ceil(totalElements / perPage));\r\n  const [pages, setPages] = useState(getPages(page, numOfPages, setPage));\r\n\r\n  useEffect(() => {\r\n    if(!totalElements) {\r\n      return;\r\n    }\r\n    setNumOfPages(ceil(totalElements / perPage));\r\n  }, [totalElements, perPage]);\r\n  \r\n  useEffect(() => {\r\n    if(!totalElements || !numOfPages) {\r\n      return;\r\n    }\r\n    setPages(getPages(page, numOfPages, setPage));\r\n    document.body.scrollIntoView({behavior: 'smooth'});\r\n  }, [numOfPages, page]);\r\n\r\n  return [page, perPage, pages, setPerPage, setPage];\r\n};\r\n\r\nexport default usePaginator;\r\n","import { useState, useEffect } from \"react\";\n\nconst useSlisedItems = (items, currentPage, perPage) => {\n  const [itemsOnPage, setItemsOnPage] = useState(\n    items.slice(currentPage * perPage, (currentPage + 1) * perPage),\n  );\n\n  useEffect(() => {\n    setItemsOnPage(\n      items.slice(currentPage * perPage, (currentPage + 1) * perPage),\n    );\n  }, [items, perPage, currentPage]);\n\n  return itemsOnPage;\n};\n\nexport default useSlisedItems;\n","import React from \"react\";\n\nconst ItemsList = ViewComponent => itemIds => {\n  return itemIds && itemIds.length ? (\n    itemIds.map(id => <ViewComponent key={id} id={id} />)\n  ) : (\n    null\n  );\n};\n\nexport default ItemsList;\n","import React from \"react\";\nimport { Link } from \"@reach/router\";\nimport useStory from \"../hooks/useStory\";\nimport ErrorMessage from \"./ErrorMessage\";\n\nconst getDateString = date => {\n  const fullDate = new Date(+date * 1000);\n  const [, month, day, year] = fullDate.toDateString().split(\" \");\n  const timeString = fullDate\n    .toLocaleTimeString()\n    .split(\":\")\n    .slice(0, 2)\n    .join(\":\");\n\n  return `${month} ${day}, ${year} at ${timeString}`;\n};\n\nfunction ShortStory({ id }) {\n  const [data, fetchingError] = useStory(id);\n\n  if (fetchingError) {\n    return <ErrorMessage />;\n  }\n  if (!data) {\n    return (\n      <div className=\"short-story preloading\">\n        <h4 className=\"story-title loading\" aria-hidden=\"true\" ></h4>\n        <div className=\"story-short-bottom\">\n          <span className=\"story-author loading\"></span>\n          <span className=\"story-date loading\"></span>\n        </div>\n      </div>\n    );\n  }\n  return (\n    <div className=\"short-story row\">\n      <h4 className=\"story-title\">\n        <Link to={`./story/${data.id}`}>{data.title}</Link>\n      </h4>\n      <div className=\"story-short-bottom\">\n        <span className=\"story-author\">\n          by <Link to={`./user/${data.by}`}>{data.by}</Link>\n        </span>\n        <span className=\"story-date\">{getDateString(data.time)}</span>\n      </div>\n    </div>\n  );\n}\n\nexport default React.memo(ShortStory);\n","import React from \"react\";\r\n\r\nconst Pagination = ({ pages, currentPage }) =>\r\n  pages && pages.length ? (\r\n    <div className=\"pages row\">\r\n      <ul className=\"pagination\">\r\n        {pages.map(([i, runPage]) => (\r\n          <li key={i}>\r\n            <button\r\n              className={`btn-link ${i === currentPage + 1 ? \"current\" : \"\"}`}\r\n              onClick={i === currentPage + 1 ? () => {} : () => runPage()}\r\n            >\r\n              {i}\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  ) : null;\r\n\r\nexport default React.memo(Pagination);\r\n","import React from \"react\";\r\n\r\nconst StoriesQuantityChanger = ({ perPage, handler }) => (\r\n  <div className=\"per-page-wrapper row\">\r\n    <select defaultValue={perPage} onChange={e => handler(+e.target.value)}>\r\n      <option value=\"5\">5</option>\r\n      <option value=\"10\">10</option>\r\n      <option value=\"15\">15</option>\r\n    </select>\r\n  </div>\r\n);\r\n\r\nexport default React.memo(StoriesQuantityChanger);\r\n","import React from \"react\";\nimport { Link } from \"@reach/router\";\n\nconst ErrorPage = () => {\n  return (\n    <div className=\"error-page\">\n      <h1 style={{textAlign: 'center'}}>404</h1>\n      <p>Sorry! Wrong url...</p>\n      <div>\n        <Link to=\"./\">Home</Link>\n      </div>\n    </div>\n  );\n};\n\nexport default React.memo(ErrorPage);\n","import React, { useEffect } from \"react\";\nimport useStories from \"../hooks/useStories\";\nimport usePaginator from \"../hooks/usePaginator\";\nimport useSlisedItems from \"../hooks/useSlisedItems\";\nimport ItemsList from \"./ItemsList\";\nimport ShortStory from \"./ShortStory\";\nimport Pagination from \"./Pagination\";\nimport StoriesQuantityChanger from \"./StoriesQuantityChanger\";\nimport ErrorPage from \"./ErrorPage\";\nimport ErrorMessage from \"./ErrorMessage\";\n\nconst ItemsListWithShortStories = ItemsList(ShortStory);\n\nconst getTitle = route => {\n  const titles = {\n    \"\": \"New Stories Feed\",\n    best: \"Best Stories Feed\",\n    top: \"Top Stories Feed\",\n    ask: \"Ask Stories Feed\",\n    job: \"Job Stories Feed\",\n    show: \"Show Stories Feed\",\n  };\n  return titles[route];\n};\n\nconst allowedUrls = [\"\", \"best\", \"top\", \"ask\", \"job\", \"show\"];\n\nconst MainFeed = ({ \"*\": path }) => {\n  const [items, error] = useStories(path);\n  const [page, perPage, pages, setPerPage, setPage] = usePaginator(\n    items.length,\n  );\n  const itemsOnPage = useSlisedItems(items, page, perPage);\n\n  useEffect(() => {\n    setPage(0);\n  }, [path]);\n\n  useEffect(() => {\n    if(!pages.length) {\n      return;\n    }\n    const pageIndex = pages.map(([i]) => i - 1).indexOf(page);\n    if (pageIndex === -1) {\n      if (page > 0) {\n        pages[pages.length - 1][1]();\n      } else {\n        pages[0] && pages[0][1] && pages[0][1]();\n      }\n    }\n  }, [pages]);\n\n  if (!allowedUrls.includes(path)) {\n    return <ErrorPage />;\n  }\n\n  if (error) {\n    return <ErrorMessage />;\n  }\n\n  return (\n    <div className=\"news-feed-wrapper\">\n      <h1>{getTitle(path)}</h1>\n      <StoriesQuantityChanger perPage={perPage} handler={i => setPerPage(i)} />\n      {ItemsListWithShortStories(itemsOnPage)}\n      {items.length && pages.length > 1 ? (\n        <Pagination pages={pages} currentPage={page} />\n      ) : null}\n    </div>\n  );\n};\n\nexport default MainFeed;\n","import React, { useEffect, useState } from \"react\";\nimport { Link, navigate } from \"@reach/router\";\nimport { fetchUser } from \"../utils/api\";\nimport useStory from \"../hooks/useStory\";\nimport ItemsList from \"./ItemsList\";\nimport ErrorMessage from \"./ErrorMessage\";\n\nconst getMarkup = data => ({\n  __html: data,\n});\n\nwindow.handler = navigate;\n\nconst TitleView = ({ id }) => {\n  const [data, fetchingError] = useStory(id);\n\n  if (fetchingError) {\n    return null;\n  }\n\n  if (!data) {\n    return <div className=\"user-story-title loading\"></div>;\n  }\n\n  return (\n    <div className=\"user-story-title\">\n      <Link to={`../../story/${id}`}>{data.title}</Link>\n    </div>\n  );\n};\n\nconst ItemsListWithTitleView = ItemsList(TitleView);\n\nconst UserPage = ({ userId }) => {\n  const [user, setUser] = useState(null);\n  const [error, setError] = useState(false);\n\n  useEffect(() => {\n    let inProgress = true;\n    let controller = new AbortController();\n    fetchUser(userId, { signal: controller.signal })\n      .then(data => {\n        if (inProgress) {\n          if (data) {\n            setUser(data);\n            setError(false);\n          } else {\n            setError(true);\n          }\n        }\n      })\n      .catch(e => {\n        console.log(e);\n        inProgress && setError(true);\n      });\n    return () => {\n      inProgress = false;\n      controller.abort();\n    };\n  }, [userId]);\n\n  if (error) {\n    return <ErrorMessage />;\n  }\n\n  if (!user) {\n    return (\n      <div className=\"user-wrapper row\">\n        <div className=\"two columns\">\n          <button\n            className=\"btn-link back-button\"\n            onClick={() => window.history.back()}\n          >\n            &lArr; Back\n          </button>\n        </div>\n        <div className=\"ten columns\">\n          <h3 className=\"user-name-field loading\" aria-hidden=\"true\"></h3>\n          <div className=\"user-info loading\" />\n          <div className=\"user-info loading\" />\n          <div className=\"user-info last-line loading\" />\n          <hr />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"user-wrapper row\">\n      <div className=\"two columns\">\n        <button\n          className=\"btn-link back-button\"\n          onClick={() => window.history.back()}\n        >\n          &lArr; Back\n        </button>\n      </div>\n      <div className=\"ten columns\">\n        <h3 className=\"user-name-field\">{user.id}</h3>\n        <div\n          className=\"user-info\"\n          dangerouslySetInnerHTML={getMarkup(user.about)}\n        />\n        <hr />\n        {ItemsListWithTitleView(user.submitted.slice(0, 10))}\n      </div>\n    </div>\n  );\n};\n\nexport default React.memo(UserPage);\n","import React from \"react\";\nimport { Router } from \"@reach/router\";\nimport Nav from \"./components/Nav\";\nimport Story from \"./components/Story\";\nimport MainFeed from \"./components/MainFeed\";\nimport UserPage from \"./components/UserPage\";\n\nfunction App() {\n  return (\n    <Router basepath=\"/hacker-news-reader/\" >\n      <Nav path=\"/\">\n        <MainFeed path=\"/*\" />\n        <Story path=\"story/:itemId\" />\n        <UserPage path=\"user/:userId\" />\n      </Nav>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./static/index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}