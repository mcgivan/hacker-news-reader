{"version":3,"sources":["components/NavWrapper/Nav.js","utils/api.js","utils/storage.js","hooks/useStory.js","components/Error/ErrorMessage.js","components/ItemsList.js","utils/utils.js","components/Story/StoryComment.js","components/Story/StoryCommentsSection.js","components/Story/Story.js","hooks/useStories.js","hooks/usePaginator.js","hooks/useSlisedItems.js","components/ShortStory/ShortStory.js","components/Pagination/Pagination.js","components/StoriesSelector/StoriesSelector.js","components/Error/ErrorPage.js","components/MainFeed.js","components/UserPage/UserPublishedStory.js","components/UserPage/UserPage.js","App.js","serviceWorker.js","index.js"],"names":["Nav","children","getCurrentClassName","isCurrent","className","href","getProps","to","BASE_URI","userUrl","userId","topStoriesUrl","bestStoriesUrl","newStoriesUrl","askStoriesUrl","jobStoriesUrl","showStoriesUrl","fetchStory","storyId","fetch","itemId","then","response","ok","Error","clone","text","dataStr","key","value","sessionStorage","setItem","json","catch","err","console","log","fetchStories","url","type","options","useStory","useState","JSON","parse","getItem","e","getData","item","error","setError","requestCall","setRequestCall","useEffect","inProgress","story","setTimeout","call","React","memo","ItemsList","ViewComponent","itemIds","length","map","id","getDateString","date","fullDate","Date","toDateString","split","month","day","year","timeString","toLocaleTimeString","slice","join","getMarkup","data","__html","ItemsListWithComment","comment","by","time","dangerouslySetInnerHTML","onClick","preventDefault","StoryCommentsSections","commentsList","itemsToShow","setItemsToShow","loadRest","setLoadRest","Story","window","history","back","title","target","rel","kids","useStories","storiesType","items","setItems","controller","AbortController","signal","fetchedData","abort","ceil","Math","getPages","startPage","lastPage","callback","pages","minPage","maxPage","i","push","usePaginator","totalElements","itemsOnPage","perPage","setPerPage","page","setPage","numOfPages","setNumOfPages","setPages","document","body","scrollIntoView","behavior","useSlisedItems","currentPage","setItemsOnPage","aria-hidden","runPage","handler","defaultValue","onChange","style","textAlign","ItemsListWithShortStories","ShortStory","allowedUrls","MainFeed","path","indexOf","includes","best","top","ask","job","show","UserPublishedStory","ItemsListWithUserPublishedStory","user","setUser","fetchUser","about","submitted","scrollHandler","button","scrollY","innerHeight","classList","add","remove","scrollTop","event","App","scrollToTopLink","useRef","current","addEventListener","removeEventListener","process","basepath","ref","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","onUpdate","onSuccess","ReactDOM","render","getElementById","URL","origin","contentType","headers","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.f63be506.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"@reach/router\";\nimport './nav.css';\n\nexport default function Nav({ children }) {\n  const getCurrentClassName = ({ isCurrent, href }) => ({\n    className:\n      href === \"/hacker-news-reader\" && isCurrent\n        ? \"current\"\n        : isCurrent\n        ? \"current\"\n        : \"\",\n  });\n  return (\n    <div className=\"wrapper container\">\n      <nav className=\"nav-wrapper\">\n        <ul className=\"top-menu\">\n          <li className=\"top-menu-link\">\n            <Link getProps={getCurrentClassName} to=\"./\">\n              New Stories\n            </Link>\n          </li>\n          <li className=\"top-menu-link\">\n            <Link getProps={getCurrentClassName} to=\"./best\">\n              Best Stories\n            </Link>\n          </li>\n          <li className=\"top-menu-link\">\n            <Link getProps={getCurrentClassName} to=\"./top\">\n              Top Stories\n            </Link>\n          </li>\n          <li className=\"top-menu-link\">\n            <Link getProps={getCurrentClassName} to=\"./ask\">\n              Ask Stories\n            </Link>\n          </li>\n          <li className=\"top-menu-link\">\n            <Link getProps={getCurrentClassName} to=\"./job\">\n              Job Stories\n            </Link>\n          </li>\n          <li className=\"top-menu-link\">\n            <Link getProps={getCurrentClassName} to=\"./show\">\n              Show Stories\n            </Link>\n          </li>\n        </ul>\n      </nav>\n      {children}\n    </div>\n  );\n}\n","import { storeData } from \"./storage\";\n\nconst BASE_URI = \"https://hacker-news.firebaseio.com/v0\";\nconst itemUrl = itemId => `${BASE_URI}/item/${itemId}.json`;\nconst userUrl = userId => `${BASE_URI}/user/${userId}.json`;\nconst topStoriesUrl = () => `${BASE_URI}/topstories.json`;\nconst bestStoriesUrl = () => `${BASE_URI}/beststories.json`;\nconst newStoriesUrl = () => `${BASE_URI}/newstories.json`;\nconst askStoriesUrl = () => `${BASE_URI}/askstories.json`;\nconst jobStoriesUrl = () => `${BASE_URI}/jobstories.json`;\nconst showStoriesUrl = () => `${BASE_URI}/showstories.json`;\n\nexport const fetchStory = storyId => {\n  return fetch(itemUrl(storyId))\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(\"Sorry! Fetching error...\");\n      }\n      response\n        .clone()\n        .text()\n        .then(dataStr => storeData(storyId, dataStr));\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n      return null;\n    });\n};\n\nexport const fetchUser = (userId, options = {}) => {\n  return fetch(userUrl(userId), {...options})\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(\"Sorry! Fetching error...\");\n      }\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n      return null;\n    });\n};\n\nexport const fetchStories = (type = \"new\", options = {}) => {\n  let url;\n  switch (type) {\n    case \"top\":\n      url = topStoriesUrl();\n      break;\n    case \"best\":\n      url = bestStoriesUrl();\n      break;\n    case \"ask\":\n      url = askStoriesUrl();\n      break;\n    case \"job\":\n      url = jobStoriesUrl();\n      break;\n    case \"show\":\n      url = showStoriesUrl();\n      break;\n    default:\n      url = newStoriesUrl();\n  }\n  return fetch(url, {...options})\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(\"Sorry! Fetching error...\");\n      }\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n      return null;\n    });\n};\n","export const getData = key => {\n  try {\n    const data = JSON.parse(sessionStorage.getItem(key));\n    return data;\n  } catch (e) {\n    return null;\n  }\n};\nexport const storeData = (key, value) => {\n  sessionStorage.setItem(key, value);\n};\n","import { useState, useEffect } from \"react\";\nimport { fetchStory } from \"../utils/api\";\nimport { getData } from \"../utils/storage\";\n\nconst useStory = itemId => {\n  const [item, setItem] = useState(getData(itemId));\n  const [error, setError] = useState(false);\n  const [requestCall, setRequestCall] = useState(0);\n\n  useEffect(() => {\n    if (item) {\n      return;\n    }\n    if (requestCall < 3) {\n      let inProgress = true;\n      fetchStory(itemId)\n        .then(story => {\n          if (inProgress) {\n            if (story) {\n              setError(false);\n              setItem(story);\n            } else {\n              setError(true);\n              setTimeout(\n                () => inProgress && setRequestCall(call => call + 1),\n                3000,\n              );\n            }\n          }\n        })\n        .catch(e => {\n          inProgress && setError(true);\n          setTimeout(\n            () => inProgress && setRequestCall(call => call + 1),\n            3000,\n          );\n        });\n      return () => {\n        inProgress = false;\n      };\n    }\n  }, [itemId, requestCall]);\n\n  return [item, error];\n};\n\nexport default useStory;\n","import React from \"react\";\n\nconst ErrorMessage = () => (\n  <div className=\"error-message\">Sorry! Try again later :(</div>\n);\n\nexport default React.memo(ErrorMessage);\n","import React from \"react\";\n\nconst ItemsList = ViewComponent => itemIds => {\n  return itemIds && itemIds.length ? (\n    itemIds.map(id => <ViewComponent key={id} id={id} />)\n  ) : (\n    null\n  );\n};\n\nexport default ItemsList;\n","export const getDateString = date => {\n  const fullDate = new Date(+date * 1000);\n  const [, month, day, year] = fullDate.toDateString().split(\" \");\n  const timeString = fullDate\n    .toLocaleTimeString()\n    .split(\":\")\n    .slice(0, 2)\n    .join(\":\");\n\n  return `${month} ${day}, ${year} at ${timeString}`;\n};","import React from \"react\";\nimport { Link } from \"@reach/router\";\nimport useStory from \"../../hooks/useStory\";\nimport { getDateString } from \"../../utils/utils\";\n\nconst getMarkup = data => ({\n  __html: data,\n});\n\nexport default function StoryComment({ id }) {\n  const [comment, error] = useStory(id);\n  if (error) {\n    return null;\n  }\n  if (!comment) {\n    return (\n      <div className=\"story-comment\">\n        <div className=\"comment-top\">\n          <Link className=\"comment-author loading\" to=\"\" onClick={(e)=>e.preventDefault()}>\n          </Link>\n          <span className=\"comment-time loading\"></span>\n        </div>\n        <hr />\n        <div\n          className=\"comment-content loading\"\n        />\n        <div\n          className=\"comment-content loading\"\n        />\n        <div\n          className=\"comment-content last-line loading\"\n        />\n      </div>\n    );\n  }\n  return (\n    <div className=\"story-comment\">\n      <div className=\"comment-top\">\n        <Link className=\"comment-author\" to={`../../user/${comment.by}`}>\n          {comment.by}\n        </Link>\n        <span className=\"comment-time\">{getDateString(comment.time)}</span>\n      </div>\n      <hr />\n      <div\n        className=\"comment-content\"\n        dangerouslySetInnerHTML={getMarkup(comment.text)}\n      />\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport ItemsList from \"../ItemsList\";\nimport StoryComment from \"./StoryComment\";\n\nconst ItemsListWithComment = ItemsList(StoryComment);\n\nexport default function StoryCommentsSections({ commentsList }) {\n  const [itemsToShow, setItemsToShow] = useState([]);\n  const [loadRest, setLoadRest] = useState(false);\n\n  useEffect(() => {\n    if (!commentsList || (commentsList && !commentsList.length)) {\n      return;\n    }\n    if (loadRest) {\n      setItemsToShow(commentsList);\n    } else {\n      setItemsToShow(commentsList.slice(0, 5));\n    }\n  }, [loadRest]);\n\n  return commentsList && commentsList.length ? (\n    <div className=\"full-story-comments\">\n      <h5>Comments:</h5>\n      {ItemsListWithComment(itemsToShow)}\n      {commentsList && commentsList.length > 5 ? (\n        <button onClick={() => setLoadRest(true)}>Load more ({commentsList.length - 5})</button>\n      ) : null}\n    </div>\n  ) : null;\n}\n","import React from \"react\";\nimport { Link } from \"@reach/router\";\nimport useStory from \"../../hooks/useStory\";\nimport ErrorMessage from \"../Error/ErrorMessage\";\nimport './story.css';\nimport StoryCommentsSections from \"./StoryCommentsSection\";\n\nconst getMarkup = data => ({\n  __html: data,\n});\n\nconst Story = ({ itemId }) => {\n  const [story, err] = useStory(itemId);\n\n  if (err) {\n    return <ErrorMessage />;\n  }\n  if (!story) {\n    return null;\n  }\n  \n  return (\n    <>\n      <div className=\"full-story-top\">\n        <Link\n          to=\"#\"\n          onClick={() => window.history.back()}\n          className=\"back-button\"\n        >\n          <span>&lArr; Back</span>\n        </Link>\n      </div>\n      <div className=\"full-story\">\n        <h1 className=\"title\">{story.title}</h1>\n        <div dangerouslySetInnerHTML={getMarkup(story.text)} />\n        {story.url ? (\n          <div className=\"full-story-bottom\">\n            <a target=\"_blank\" href={story.url} rel=\"noopener noreferrer\">\n              Read original &rArr;\n            </a>\n          </div>\n        ) : null}\n      </div>\n      <StoryCommentsSections commentsList={story.kids} />\n    </>\n  );\n};\n\nexport default Story;\n","import { useState, useEffect } from \"react\";\nimport { fetchStories } from \"../utils/api\";\n\nconst useStories = (storiesType = \"new\") => {\n  const [items, setItems] = useState([]);\n  const [error, setError] = useState(false);\n  const [requestCall, setRequestCall] = useState(0);\n\n  useEffect(() => {\n    if (requestCall < 3) {\n      let inProgress = true;\n      const controller = new AbortController();\n      fetchStories(storiesType, { signal: controller.signal })\n        .then(fetchedData => {\n          if (inProgress) {\n            if (fetchedData) {\n              setError(false);\n              setItems(fetchedData);\n            } else {\n              setError(true);\n              setTimeout(\n                () => inProgress && setRequestCall(call => call + 1),\n                3000\n              );\n            }\n          }\n        })\n        .catch(e => {\n          inProgress && setError(true);\n          setTimeout(\n            () => inProgress && setRequestCall(call => call + 1),\n            3000,\n          );\n        });\n      return () => {\n        inProgress = false;\n        controller.abort();\n      };\n    }\n  }, [storiesType, requestCall]);\n\n  return [items, error];\n};\n\nexport default useStories;\n","import { useState, useEffect } from \"react\";\r\nconst ceil = Math.ceil;\r\nconst getPages = (startPage, lastPage, callback) => {\r\n  let pages = [];\r\n  let minPage = startPage - 2;\r\n  let maxPage = minPage < 0 ? minPage * -1 + startPage + 2 : startPage + 2;\r\n  minPage = minPage < 0 ? 0 : minPage;\r\n  if(!lastPage) {\r\n    return pages;\r\n  }\r\n  lastPage -= 1;\r\n  if (maxPage >= lastPage) {\r\n    minPage -= maxPage - lastPage;\r\n    maxPage = lastPage;\r\n  }\r\n  minPage = minPage < 0 ? 0 : minPage;\r\n  for (let i = minPage; i <= maxPage; i++) {\r\n    pages.push([i + 1, () => callback(i)]);\r\n  }\r\n  return pages;\r\n};\r\nconst usePaginator = (totalElements, startPage = 0, itemsOnPage = 5) => {\r\n  const [perPage, setPerPage] = useState(itemsOnPage);\r\n  const [page, setPage] = useState(startPage);\r\n  const [numOfPages, setNumOfPages] = useState(ceil(totalElements / perPage));\r\n  const [pages, setPages] = useState(getPages(page, numOfPages, setPage));\r\n\r\n  useEffect(() => {\r\n    if(!totalElements) {\r\n      return;\r\n    }\r\n    setNumOfPages(ceil(totalElements / perPage));\r\n  }, [totalElements, perPage]);\r\n  \r\n  useEffect(() => {\r\n    if(!totalElements || !numOfPages) {\r\n      return;\r\n    }\r\n    setPages(getPages(page, numOfPages, setPage));\r\n    document.body.scrollIntoView({behavior: 'smooth'});\r\n  }, [numOfPages, page]);\r\n\r\n  return [page, perPage, pages, setPerPage, setPage];\r\n};\r\n\r\nexport default usePaginator;\r\n","import { useState, useEffect } from \"react\";\n\nconst useSlisedItems = (items, currentPage, perPage) => {\n  const [itemsOnPage, setItemsOnPage] = useState(\n    items.slice(currentPage * perPage, (currentPage + 1) * perPage),\n  );\n\n  useEffect(() => {\n    setItemsOnPage(\n      items.slice(currentPage * perPage, (currentPage + 1) * perPage),\n    );\n  }, [items, perPage, currentPage]);\n\n  return itemsOnPage;\n};\n\nexport default useSlisedItems;\n","import React from \"react\";\nimport { Link } from \"@reach/router\";\nimport useStory from \"../../hooks/useStory\";\nimport ErrorMessage from \"../Error/ErrorMessage\";\nimport { getDateString } from \"../../utils/utils\";\nimport './short-story.css';\n\nfunction ShortStory({ id }) {\n  const [data, fetchingError] = useStory(id);\n\n  if (fetchingError) {\n    return <ErrorMessage />;\n  }\n  if (!data) {\n    return (\n      <div className=\"short-story preloading\">\n        <h4 className=\"story-title loading\" aria-hidden=\"true\" ></h4>\n        <div className=\"story-short-bottom\">\n          <span className=\"story-author loading\"></span>\n          <span className=\"story-date loading\"></span>\n        </div>\n      </div>\n    );\n  }\n  return (\n    <div className=\"short-story row\">\n      <h4 className=\"story-title\">\n        <Link to={`./story/${data.id}`}>{data.title}</Link>\n      </h4>\n      <div className=\"story-short-bottom\">\n        <span className=\"story-author\">\n          by <Link to={`./user/${data.by}`}>{data.by}</Link>\n        </span>\n        <span className=\"story-date\">{getDateString(data.time)}</span>\n      </div>\n    </div>\n  );\n}\n\nexport default React.memo(ShortStory);\n","import React from \"react\";\r\nimport './pagination.css';\r\n\r\nconst Pagination = ({ pages, currentPage }) =>\r\n  pages && pages.length ? (\r\n    <div className=\"pages row\">\r\n      <ul className=\"pagination\">\r\n        {pages.map(([i, runPage]) => (\r\n          <li key={i}>\r\n            <button\r\n              className={`btn-link ${i === currentPage + 1 ? \"current\" : \"\"}`}\r\n              onClick={i === currentPage + 1 ? () => {} : () => runPage()}\r\n            >\r\n              {i}\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  ) : null;\r\n\r\nexport default React.memo(Pagination);\r\n","import React from \"react\";\r\nimport './selector.css';\r\n\r\nconst StoriesSelector = ({ perPage, handler }) => (\r\n  <div className=\"per-page-wrapper row\">\r\n    <select defaultValue={perPage} onChange={e => handler(+e.target.value)}>\r\n      <option value=\"5\">5</option>\r\n      <option value=\"10\">10</option>\r\n      <option value=\"15\">15</option>\r\n    </select>\r\n  </div>\r\n);\r\n\r\nexport default React.memo(StoriesSelector);\r\n","import React from \"react\";\nimport { Link } from \"@reach/router\";\n\nconst ErrorPage = () => {\n  return (\n    <div className=\"error-page\">\n      <h1 style={{textAlign: 'center'}}>404</h1>\n      <p>Sorry! Wrong url...</p>\n      <div>\n        <Link to=\"./\">Home</Link>\n      </div>\n    </div>\n  );\n};\n\nexport default React.memo(ErrorPage);\n","import React, { useEffect } from \"react\";\nimport useStories from \"../hooks/useStories\";\nimport usePaginator from \"../hooks/usePaginator\";\nimport useSlisedItems from \"../hooks/useSlisedItems\";\nimport ItemsList from \"./ItemsList\";\nimport ShortStory from \"./ShortStory/ShortStory\";\nimport Pagination from \"./Pagination/Pagination\";\nimport StoriesSelector from \"./StoriesSelector/StoriesSelector\";\nimport ErrorPage from \"./Error/ErrorPage\";\nimport ErrorMessage from \"./Error/ErrorMessage\";\n\nconst ItemsListWithShortStories = ItemsList(ShortStory);\n\nconst getTitle = route => {\n  const titles = {\n    \"\": \"New Stories Feed\",\n    best: \"Best Stories Feed\",\n    top: \"Top Stories Feed\",\n    ask: \"Ask Stories Feed\",\n    job: \"Job Stories Feed\",\n    show: \"Show Stories Feed\",\n  };\n  return titles[route];\n};\n\nconst allowedUrls = [\"\", \"best\", \"top\", \"ask\", \"job\", \"show\"];\n\nconst MainFeed = ({ \"*\": path }) => {\n  const [items, error] = useStories(path);\n  const [page, perPage, pages, setPerPage, setPage] = usePaginator(\n    items.length,\n  );\n  const itemsOnPage = useSlisedItems(items, page, perPage);\n\n  useEffect(() => {\n    setPage(0);\n  }, [path]);\n\n  useEffect(() => {\n    if(!pages.length) {\n      return;\n    }\n    const pageIndex = pages.map(([i]) => i - 1).indexOf(page);\n    if (pageIndex === -1) {\n      if (page > 0) {\n        pages[pages.length - 1][1]();\n      } else {\n        pages[0] && pages[0][1] && pages[0][1]();\n      }\n    }\n  }, [pages]);\n\n  if (!allowedUrls.includes(path)) {\n    return <ErrorPage />;\n  }\n\n  if (error) {\n    return <ErrorMessage />;\n  }\n\n  return (\n    <div className=\"news-feed-wrapper\">\n      <h1>{getTitle(path)}</h1>\n      <StoriesSelector perPage={perPage} handler={i => setPerPage(i)} />\n      {ItemsListWithShortStories(itemsOnPage)}\n      {items.length && pages.length > 1 ? (\n        <Pagination pages={pages} currentPage={page} />\n      ) : null}\n    </div>\n  );\n};\n\nexport default MainFeed;\n","import React from 'react';\nimport { Link } from \"@reach/router\";\nimport useStory from \"../../hooks/useStory\";\n\nconst UserPublishedStory = ({ id }) => {\n  const [data, fetchingError] = useStory(id);\n\n  if (fetchingError) {\n    return null;\n  }\n\n  if (!data) {\n    return <div className=\"user-story-title loading\"></div>;\n  }\n\n  if(data && data.type === 'comment') {\n    return null;\n  }\n\n  return (\n    <div className=\"user-story-title\">\n      <Link to={`../../story/${id}`}>{data.title}</Link>\n    </div>\n  );\n};\n\nexport default UserPublishedStory;","import React, { useEffect, useState } from \"react\";\nimport { fetchUser } from \"../../utils/api\";\nimport ItemsList from \"../ItemsList\";\nimport ErrorMessage from \"../Error/ErrorMessage\";\nimport UserPublishedStory from './UserPublishedStory';\nimport './user.css';\n\nconst getMarkup = data => ({\n  __html: data,\n});\n\nconst ItemsListWithUserPublishedStory = ItemsList(UserPublishedStory);\n\nconst UserPage = ({ userId }) => {\n  const [user, setUser] = useState(null);\n  const [error, setError] = useState(false);\n\n  useEffect(() => {\n    let inProgress = true;\n    let controller = new AbortController();\n    fetchUser(userId, { signal: controller.signal })\n      .then(data => {\n        if (inProgress) {\n          if (data) {\n            setUser(data);\n            setError(false);\n          } else {\n            setError(true);\n          }\n        }\n      })\n      .catch(e => {\n        console.log(e);\n        inProgress && setError(true);\n      });\n    return () => {\n      inProgress = false;\n      controller.abort();\n    };\n  }, [userId]);\n\n  if (error) {\n    return <ErrorMessage />;\n  }\n\n  if (!user) {\n    return (\n      <div className=\"user-wrapper row\">\n        <div className=\"two columns\">\n          <button\n            className=\"btn-link back-button\"\n            onClick={() => window.history.back()}\n          >\n            &lArr; Back\n          </button>\n        </div>\n        <div className=\"ten columns\">\n          <h3 className=\"user-name-field loading\" aria-hidden=\"true\"></h3>\n          <div className=\"user-info loading\" />\n          <div className=\"user-info loading\" />\n          <div className=\"user-info last-line loading\" />\n          <hr />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"user-wrapper row\">\n      <div className=\"two columns\">\n        <button\n          className=\"btn-link back-button\"\n          onClick={() => window.history.back()}\n        >\n          &lArr; Back\n        </button>\n      </div>\n      <div className=\"ten columns\">\n        <h3 className=\"user-name-field\">{user.id}</h3>\n        <div\n          className=\"user-info\"\n          dangerouslySetInnerHTML={getMarkup(user.about)}\n        />\n        <hr />\n        {ItemsListWithUserPublishedStory(user.submitted.slice(0, 10))}\n      </div>\n    </div>\n  );\n};\n\nexport default React.memo(UserPage);\n","import React, { useEffect, useRef } from \"react\";\nimport { Router } from \"@reach/router\";\nimport Nav from \"./components/NavWrapper/Nav\";\nimport Story from \"./components/Story/Story\";\nimport MainFeed from \"./components/MainFeed\";\nimport UserPage from \"./components/UserPage/UserPage\";\n\nconst scrollHandler = (button) => () => {\n  if(window.scrollY > window.innerHeight*2){\n    button.classList.add('show');\n  } else {\n    button.classList.remove('show');\n  }\n}\n\nconst scrollTop = (event) => {\n  event.preventDefault();\n  document.body.scrollIntoView({behavior: 'smooth'});\n}\n\nfunction App() {\n  const scrollToTopLink = useRef();\n  useEffect(()=>{\n    if(scrollToTopLink.current === null) {\n      return;\n    }\n    let handler = scrollHandler(scrollToTopLink.current);\n    window.addEventListener('scroll', handler);\n\n    return ()=>window.removeEventListener('scroll', handler);\n\n  }, [scrollToTopLink]);\n  // <Router basepath=\"/hacker-news-reader/\" >\n  console.log(`process.env.PUBLIC_URL: ${process.env.PUBLIC_URL}`)\n  return (\n    <>\n      <Router basepath={`${process.env.PUBLIC_URL}`} >\n        <Nav path=\"/\">\n          <MainFeed path=\"/*\" />\n          <Story path=\"story/:itemId\" />\n          <UserPage path=\"user/:userId\" />\n        </Nav>\n      </Router>\n      <a ref={scrollToTopLink} href=\"\" className=\"scroll-top\" onClick={(e)=>scrollTop(e)} >Top</a>\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./static/index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}